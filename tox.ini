[tox]
envlist = py310
isolated_build = True
requires = tox-conda

[gh-actions]
python =
    3.9: py39
    3.10: py310
    3.11: py311

[testenv]
conda_channels = conda-forge
conda_deps = pymc
deps = pytest
commands =
    python --version
    pytest tests/

[testenv:readme]
conda_channels = conda-forge
conda_deps =
    pymc
    nbconvert
    python-graphviz
    pandoc
    ipython
    jupyterlab
deps = watermark
commands =
    jupyter nbconvert --to notebook --execute --inplace README.ipynb
    jupyter nbconvert --to markdown README.ipynb
